<div class="loan-container">
  <h2>Loan Application Form</h2>
  
  <!-- Error Message Display -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="onSubmit()" #loanForm="ngForm">

    <div class="form-group">
      <label for="customerID">Customer ID *</label>
      <input 
        type="number" 
        id="customerID"
        [(ngModel)]="loanApplication.customerID" 
        name="customerID" 
        required 
        min="1"
        [disabled]="isSubmitting"
        class="form-control" />
    </div>

    <div class="form-group">
      <label for="loanamount">Loan Amount *</label>
      <input 
        type="number" 
        id="loanamount"
        [(ngModel)]="loanApplication.loanamount" 
        name="loanamount" 
        required 
        min="1"
        [disabled]="isSubmitting"
        class="form-control" />
    </div>

    <div class="form-group">
      <label for="applicationdate">Application Date *</label>
      <input 
        type="date" 
        id="applicationdate"
        [(ngModel)]="loanApplication.applicationdate" 
        name="applicationdate" 
        required 
        [disabled]="isSubmitting"
        class="form-control" />
    </div>

    <div class="form-group">
      <label for="status">Status</label>
      <select 
        id="status"
        [(ngModel)]="loanApplication.status" 
        name="status"
        [disabled]="isSubmitting"
        class="form-control">
        <option *ngFor="let s of statuses" [value]="s">{{ s }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="remarks">Remarks</label>
      <textarea 
        id="remarks"
        [(ngModel)]="loanApplication.remarks" 
        name="remarks"
        [disabled]="isSubmitting"
        class="form-control"
        rows="3"></textarea>
    </div>

    <div class="form-group">
      <label for="filelink">File Link</label>
      <input 
        type="url" 
        id="filelink"
        [(ngModel)]="loanApplication.filelink" 
        name="filelink" 
        placeholder="http://..." 
        [disabled]="isSubmitting"
        class="form-control" />
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        [disabled]="isSubmitting || !loanForm.form.valid"
        class="btn btn-primary">
        <span *ngIf="isSubmitting">Submitting...</span>
        <span *ngIf="!isSubmitting">Submit Application</span>
      </button>
      
      <!-- <button 
        type="button" 
        (click)="resetForm()"
        [disabled]="isSubmitting"
        class="btn btn-secondary">
        Reset Form
      </button> -->
    </div>
  </form>
</div>

